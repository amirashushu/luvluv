<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Amira y Thomas</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;600&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Cookie&display=swap');

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(to bottom, #fce4ec, #f8bbd0);
      height: 100vh;
      overflow: auto;
      position: relative;
      -webkit-overflow-scrolling: touch;
      scroll-behavior: smooth;
      cursor: url('https://cur.cursors-4u.net/nature/nat-10/nat982.cur'), auto;

    }

    .screen {
    display: none;
    justify-content: flex-start;
    align-items: center;
    flex-direction: column;
    min-height: 100vh;        
    text-align: center;
    animation: fadeIn 1s ease-in-out forwards;
    background: linear-gradient(to bottom, #fff0f6 10%, #f8bbd0 100%);
    opacity: 0;
    padding: 40px 20px;
    overflow-y: auto;       
    transition: opacity 0.5s ease-in-out;
    pointer-events: none;  
    }

    .active {
      display: flex;
      opacity: 1;
      transition: opacity 1s ease-in-out;
      opacity: 1;
     pointer-events: auto;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .password-screen {
      background-color: rgba(255, 255, 255, 0.8);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      z-index: 1;
    }

    h2 {
      font-size: 26px;
      font-weight: 600;
      color: #d81b60;
      margin-bottom: 10px;
    }

    .keypad {
      display: grid;
      grid-template-columns: repeat(3, 60px);
      gap: 12px;
      margin-top: 25px;
    }

    .key {
      background-color: #f8bbd0;
      border: none;
      border-radius: 50%;
      font-size: 20px;
      padding: 15px;
      cursor: pointer;
      transition: transform 0.2s, background 0.3s;
    }

    .key:hover {
      background-color: #f48fb1;
      transform: scale(1.1);
    }

    .input-display {
      font-size: 28px;
      margin-top: 20px;
      letter-spacing: 10px;
      color: #880e4f;
    }

    .notepad {
    background-color: #fff0f6;
    border: 3px dashed #ec407a;
    padding: 20px;
    border-radius: 25px;
    width: 70%;
    max-width: 500px;
    text-align: justify;
    font-family: 'Montserrat', sans-serif;
    font-size: 18px;
    line-height: 1.8;
    color: #880e4f;
    position: relative;
    z-index: 2;
    animation: slideInNote 1s ease;
    }
    @keyframes slideInNote {
    from { transform: translateY(30px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
    }


    .notepad::before {
      content: "ğŸ’—";
      font-size: 50px;
      position: absolute;
      top: -30px;
      left: -30px;
      animation: heartBeat 2s infinite;
    }

    @keyframes heartBeat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }

    .notepad h3, .notepad h4 {
      text-align: center;
      margin: 0;
    }

    .notepad h4 {
      font-family: 'Great Vibes', cursive;
      font-size: 30px;
      color: #c2185b;
      margin: 10px 0;
    }

    .heart {
    position: fixed;
    color: #f06292;
    font-size: 24px;
    animation: float 8s linear infinite;
    z-index: 1;
    pointer-events: none;
    }
   



    @keyframes float {
    0% { transform: translateY(-10vh) scale(1); opacity: 0; }
    100% { transform: translateY(110vh) scale(1.5); opacity: 1; }
    }

     #hearts-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 1;
    }

    #musicPlayer {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 10;
  background: linear-gradient(145deg, #f48fb1, #ec407a);
  color: white;
  border: none;
  padding: 12px 20px;
  border-radius: 40px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
  transition: background 0.3s ease, transform 0.2s ease;
  display: none; /* se muestra solo tras ingresar clave */
}

#musicPlayer:hover {
  background: linear-gradient(145deg, #e91e63, #ad1457);
  transform: scale(1.05);
}



    .pet-container {
      position: fixed;
      bottom: 10px;
      left: 10px;
      display: flex;
      align-items: center;
      gap: 12px;
      z-index: 10;
      
    }

    .pet-container img {
      width: 60px;
      height: auto;
      cursor: pointer;
      animation: bounce 3s ease-in-out infinite;
      filter: brightness(1.1) drop-shadow(0 0 4px #f8bbd0);
    }
    @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
    }

    .pet-message {
      background: #f8bbd0;
      color: #880e4f;
      border: 2px solid #ec407a;
      border-radius: 20px;
      padding: 12px 18px;
      font-size: 14px;
      font-weight: bold;
      max-width: 180px;
      text-align: center;
      animation: slideIn 0.6s ease, pulse 2.5s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .nav-buttons {
      margin-top: 20px;
      display: flex;
      gap: 20px;
      justify-content: center;
    }

    .nav-buttons button {
      background-color: #ec407a;
      color: white;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    .nav-buttons button:hover {
      background-color: #c2185b;
    }

    .playlist-container {
    background: rgba(255, 240, 246, 0.9);
    border: 2px dashed #ec407a;
    border-radius: 25px;
    padding: 20px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    width: 90%;
    max-width: 700px;
    margin: auto;
    }

    .playlist-container iframe {
    width: 100%;
    max-width: 500px;
    height: 360px;
    border: none;
    border-radius: 20px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
  }

  .playlist-container-enhanced {
  background: rgba(255, 240, 246, 0.95);
  border: 3px dashed #ec407a;
  border-radius: 25px;
  padding: 30px 20px;
  max-width: 700px;
  margin: 30px auto;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  animation: fadeIn 1.5s ease-in-out;
  text-align: center;
}

.playlist-container-enhanced h3 {
  font-family: 'Great Vibes', cursive;
  font-size: 36px;
  color: #c2185b;
  margin-bottom: 10px;
}

.playlist-container-enhanced iframe {
  width: 100%;
  max-width: 500px;
  height: 360px;
  border: none;
  border-radius: 20px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
  margin-top: 15px;
}

.playlist-container-enhanced .frase-romantica {
  font-size: 16px;
  color: #d81b60;
  margin-bottom: 15px;
  font-style: italic;
}

  @media (max-width: 600px) {
    .notepad {
      width: 90%;
      font-size: 16px;
      padding: 16px;
    }
  
    .input-display {
      font-size: 22px;
      letter-spacing: 6px;
    }
  
    .keypad {
      grid-template-columns: repeat(3, 50px);
      gap: 10px;
    }
  
    .key {
      font-size: 18px;
      padding: 12px;
    }
  
    #musicPlayer {
      padding: 10px 14px;
      font-size: 14px;
    }
  
    .playlist-container iframe {
      height: 280px;
    }
  }

  @media (max-width: 600px) {
  h2, h3, h4 {
    font-size: 20px !important;
  }

  .notepad {
    padding: 14px;
    border-radius: 18px;
    font-size: 16px;
    line-height: 1.6;
  }

  .playlist-container-enhanced h3 {
    font-size: 26px;
  }

  .tiempo-box {
    font-size: 18px;
    padding: 16px;
  }

  .fancyFont {
    font-size: 1.6em;
  }

  .secret-message {
    font-size: 14px;
  }
}
@media only screen and (max-width: 600px) {
  body {
    font-size: 16px;
    padding: 0 12px;
    overflow-x: hidden;
  }

  .screen {
    padding: 10px 0;
  }

  .notepad {
    padding: 12px !important;
    width: 100% !important;
    max-width: 100% !important;
    border-radius: 18px !important;
  }

  h3.fancyFont {
    font-size: 22px !important;
  }

  .upload-label,
  .boton-romantico,
  .nav-buttons button {
    width: 100%;
    font-size: 16px;
    padding: 10px;
    margin-bottom: 12px;
    border-radius: 12px;
  }

  textarea, select, input[type="file"], input[type="text"] {
    font-size: 16px;
    width: 100%;
    padding: 10px;
    margin-bottom: 14px;
  }

  .galeria-kawaii {
    gap: 8px;
    padding: 8px 4px;
    max-height: 360px;
    overflow-y: auto;
  }

  .galeria-kawaii img,
  .galeria-kawaii video,
  .galeria-item {
    width: 46vw;
    height: 46vw;
    max-width: unset;
    max-height: unset;
    border-radius: 14px;
  }

  .notepad p,
  .notepad label {
    font-size: 15px;
  }

  .nav-buttons {
    flex-direction: column;
    gap: 10px;
  }
}


  #mensajeMostrado {
  animation: fadeInCarta 1s ease-in-out;
}

.secret-message {
  filter: blur(6px);
  transition: filter 0.5s ease, background 0.3s ease;
  cursor: pointer;
  background-color: #fce4ec;
  padding: 10px;
  border-radius: 12px;
  margin-bottom: 15px;
  position: relative;
  font-size: 16px;
  color: #880e4f;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.secret-message.revealed {
  filter: blur(0);
  background-color: #fff0f6;
}

.secret-message::after {
  content: "ğŸ‘€ Haz clic para ver";
  position: absolute;
  top: 8px;
  right: 12px;
  font-size: 12px;
  opacity: 0.8;
}


@keyframes fadeInCarta {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.tiempo-container {
  background: rgba(255, 240, 246, 0.95);
  border: 3px dashed #ec407a;
  border-radius: 25px;
  padding: 30px 20px;
  max-width: 600px;
  margin: auto;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  animation: fadeIn 1.5s ease-in-out;
  text-align: center;
}

.tiempo-container h3 {
  font-family: 'Great Vibes', cursive;
  font-size: 38px;
  color: #c2185b;
  margin-bottom: 20px;
}

.tiempo-box {
  background: #fff0f6;
  border: 2px solid #ec407a;
  border-radius: 20px;
  padding: 20px;
  font-size: 22px;
  font-weight: bold;
  color: #880e4f;
  font-family: 'Montserrat', sans-serif;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
  animation: pulseTimer 3s infinite;
}

.frase-romantica {
  font-style: italic;
  margin-top: 20px;
  font-size: 16px;
  color: #d81b60;
  animation: fadeIn 2s ease-in;
}

@keyframes pulseTimer {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

#answersArea {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  margin-top: 20px;
}

.answerBubble {
  max-width: 80%;
  background: #fce4ec;
  padding: 12px 16px;
  border-radius: 20px;
  box-shadow: 0 3px 8px rgba(0,0,0,0.1);
  color: #880e4f;
  font-size: 15px;
  position: relative;
  text-align: left;
  word-wrap: break-word;
}

.answerBubble::before {
  content: attr(data-name);
  position: absolute;
  top: -16px;
  left: 14px;
  font-size: 12px;
  color: #c2185b;
  font-weight: bold;
}
#answersArea {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
  margin-top: 20px;
}

.questionTitle {
  background: #fff0f6;
  color: #ad1457;
  font-weight: bold;
  padding: 12px 20px;
  border-radius: 18px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  max-width: 90%;
  text-align: center;
  margin-bottom: 15px;
}

.answerBubble {
  background: #fce4ec;
  padding: 14px 18px;
  border-radius: 20px;
  max-width: 85%;
  box-shadow: 0 3px 8px rgba(0,0,0,0.1);
  font-size: 14px;
  color: #880e4f;
  text-align: left;
}

.answerBubble.amira {
  background: #f8bbd0;
  border-left: 6px solid #d81b60;
}

.answerBubble.thomas {
  background: #b2ebf2;
  border-left: 6px solid #0097a7;
}


.fancyFont {
  font-family: 'Cookie', cursive;
  font-size: 2em;
  color: #d81b60;
  text-shadow: 1px 1px 2px #ffc1e3;
}

@keyframes zoomFade {
  from { transform: scale(0.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
.password-screen {
  animation: zoomFade 0.8s ease-in-out;
}

#preguntaDiariaScreen h2 {
  font-family: 'Comic Neue', cursive;
  font-size: 26px;
  margin-top: 30px;
  margin-bottom: 20px;
  color: #d81b60;
  text-shadow: 1px 1px #fff;
  text-align: center;
}

#preguntaDiariaScreen .notepad {
  background: #fff0f6;
  padding: 24px;
  border-radius: 20px;
  box-shadow: 0 6px 16px rgba(216, 27, 96, 0.2);
  max-width: 500px;
  margin: 0 auto;
}

#preguntaDiariaScreen input,
#preguntaDiariaScreen textarea {
  border: 2px solid #f8bbd0;
  background: #ffffff;
  color: #333;
  font-family: inherit;
  margin: 8px 0;
  width: 90%;
  max-width: 400px;
  padding: 10px 14px;
  border-radius: 14px;
  transition: all 0.2s ease;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

#preguntaDiariaScreen input:focus,
#preguntaDiariaScreen textarea:focus {
  outline: none;
  border-color: #ec407a;
  box-shadow: 0 0 6px rgba(236, 64, 122, 0.4);
}

#preguntaDiariaScreen button {
  background: linear-gradient(to right, #ec407a, #d81b60);
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 30px;
  font-weight: bold;
  cursor: pointer;
  margin-top: 10px;
  transition: transform 0.2s ease, background 0.3s ease;
  display: block;
  margin-left: auto;
  margin-right: auto;
}

#preguntaDiariaScreen button:hover {
  transform: scale(1.05);
  background: linear-gradient(to right, #d81b60, #ad1457);
}

#preguntaDiariaScreen #answersArea {
  background: #ffe3ec;
  padding: 14px;
  border-radius: 14px;
  margin-top: 16px;
  font-size: 15px;
  color: #6a1b9a;
  font-style: italic;
  max-width: 400px;
  margin-left: auto;
  margin-right: auto;
}

#preguntaDiariaScreen .nav-buttons {
  text-align: center;
  margin-top: 20px;
}

#preguntaDiariaScreen .nav-buttons button {
  background: transparent;
  border: 2px solid #ec407a;
  color: #ec407a;
  font-size: 14px;
  font-weight: bold;
  padding: 8px 16px;
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.2s ease;
}

#preguntaDiariaScreen .nav-buttons button:hover {
  background: #ec407a;
  color: white;
}

.nota-sorpresa {
  position: absolute;
  bottom: 30px;
  right: 30px;
  background: #ffe3ec;
  border-radius: 18px;
  padding: 12px 18px;
  font-size: 14px;
  font-style: italic;
  color: #880e4f;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  display: none;
  z-index: 5;
  animation: fadeIn 1s ease-in-out forwards;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}

.cambio-pregunta-btn {
  background: linear-gradient(to right, #f8bbd0, #ec407a);
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 20px;
  font-weight: bold;
  margin: 10px auto;
  cursor: pointer;
  display: block;
  transition: transform 0.2s ease;
}

.cambio-pregunta-btn:hover {
  transform: scale(1.05);
}

.cuponAnimado {
  animation: aparecer 0.6s ease forwards;
  opacity: 0;
  transform: translateY(20px);
}

@keyframes aparecer {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

#cuponesScreen {
  background: linear-gradient(145deg, #ffeef7, #fff0f6);
  padding: 20px;
  min-height: 100vh;
  overflow-y: auto;
}

#contenedorGaleria img,
#contenedorGaleria video {
  max-width: 160px;
  max-height: 160px;
  border-radius: 14px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  object-fit: cover;
  transition: transform 0.3s ease;
}

#contenedorGaleria img:hover,
#contenedorGaleria video:hover {
  transform: scale(1.05);
}

.upload-label {
  display: inline-block;
  padding: 10px 18px;
  background-color: #fce4ec;
  border: 2px dashed #ec407a;
  color: #880e4f;
  font-weight: bold;
  border-radius: 12px;
  cursor: pointer;
  transition: background 0.3s ease;
}

.upload-label:hover {
  background-color: #f8bbd0;
}

.boton-romantico {
  padding: 10px 20px;
  background-color: #ec407a;
  color: white;
  border: none;
  border-radius: 14px;
  font-weight: bold;
  cursor: pointer;
  transition: transform 0.3s ease, background 0.3s ease;
}

.boton-romantico:hover {
  background-color: #d81b60;
  transform: scale(1.05);
}

.galeria-kawaii {
  margin-top: 24px;
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  justify-content: center;
  padding: 10px;
  background-color: #fff0f6;
  border-radius: 14px;
  max-height: 420px;
  overflow-y: auto;
  border: 2px solid #f8bbd0;
}

.galeria-kawaii img,
.galeria-kawaii video {
  max-width: 160px;
  max-height: 160px;
  border-radius: 16px;
  object-fit: cover;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
  transition: transform 0.3s ease;
}

.galeria-kawaii img:hover,
.galeria-kawaii video:hover {
  transform: scale(1.07);
}

.galeria-item {
  max-width: 160px;
  max-height: 160px;
  border-radius: 16px;
  object-fit: cover;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
  transition: transform 0.3s ease;
}

.galeria-item:hover {
  transform: scale(1.07);
}


  </style>


<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-storage.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js"></script>


<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-storage.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js"></script>

</head>
<body>
  
    <div id="hearts-container"></div>
<div id="passwordScreen" class="screen password-screen active">
  <h2>ğŸ—â‚ŠËšâŠ¹â™¡ Ingresa la clave secreta</h2>
  <div class="input-display" id="inputDisplay">â€¢â€¢â€¢â€¢</div>
  <div class="keypad">
    <button class="key" onclick="enterDigit('1')">1</button>
    <button class="key" onclick="enterDigit('2')">2</button>
    <button class="key" onclick="enterDigit('3')">3</button>
    <button class="key" onclick="enterDigit('4')">4</button>
    <button class="key" onclick="enterDigit('5')">5</button>
    <button class="key" onclick="enterDigit('6')">6</button>
    <button class="key" onclick="enterDigit('7')">7</button>
    <button class="key" onclick="enterDigit('8')">8</button>
    <button class="key" onclick="enterDigit('9')">9</button>
    <div></div>
    <button class="key" onclick="enterDigit('0')">0</button>
    <div></div>
  </div>
</div>

<div id="notepadScreen" class="screen">
  <div class="notepad">
    <h3>ğŸ—’ 14 Julio 2025</h3>
    <h4>Para mi querido Thomas â€¹ğŸ¹ :</h4>
    <p>Hoy cumplimos un mes, el primero de bastantes que continÃºan por delante. Quiero que sepas lo feliz que soy por tenerte a mi lado. Desde que llegaste ese dÃ­a tan random, todo cambiÃ³ para mejor. Gracias por haber sido mi regalo de cumpleaÃ±os (ã¥Ë¶â€¢à¼â€¢Ë¶)ã¥â™¡.</p>
    <p>No sÃ© cÃ³mo explicarlo, pero contigo siento que todo tiene mÃ¡s sentido. Me haces sentir amada, querida, acompaÃ±adaâ€¦ incluso cuando no estÃ¡s cerca. Y eso no es algo que cualquiera logra. A tu lado estoy aprendiendo lo que es realmente el amor. Hemos pasado por tantas emociones en tan poco tiempo... es como una montaÃ±a rusa de emociones, pero una que repetirÃ­a mil veces contigo.</p>
    <p>Estuviste a mi lado en mi peor momento, te quedaste cuando mÃ¡s lo necesitaba, me apoyaste a pesar de todo y me hiciste recordar por quÃ© vale la pena vivir dÃ­a a dÃ­a. Eres un solcito, mi alegrÃ­a constante, y solo espero seguir teniendo esa calidez que emites por mucho, mucho tiempo mÃ¡s. (à·†Ë™áµ•Ë™à·†)â™¡</p>
    <p>Me haces reÃ­r con tus chistes malos, que igual amo porque vienen de ti (yo soy la chistosa de la relaciÃ³n). SÃ© que no eres perfecto, y eso tambiÃ©n me gusta, porque no busco perfecciÃ³n, sino algo real y contigo todo se siente asÃ­.</p>
    <p>Â¿QuiÃ©n lo dirÃ­a? Ahora estÃ¡s acÃ¡ a mi lado, convirtiÃ©ndote poco a poco en parte de mi rutina, de mis dÃ­as, de mis pensamientos. Ya me generaste una necesidad, y no me imagino la vida sin ti. Me ilusiona el hecho de seguir construyendo esto, paso a paso, con risas, maÃ±oseos, aprendizajes y amor.</p>
    <p>Me emociona pensar en todo lo que nos queda por vivir, en los lugares que podrÃ­amos conocer, en los abrazos que todavÃ­a no nos damos, en las cosas que nos quedan por hacer. Gracias por mirarme como si fuera lo mÃ¡s lindo que viste en el dÃ­a, por elegirme a pesar de todo. Thomas, te elegirÃ­a una y mil veces mÃ¡s.</p>
    <p>Te amo profundamente, Â¡feliz primer mes! â™¡</p>
  </div>
    <div class="nav-buttons">
    <button onclick="volverAlBloqueo()">Volver</button>
    <button onclick="irAPlaylist()">Continuar</button>
    </div>
  <div id="sorpresa" class="nota-sorpresa">P.D: Te amo mÃ¡s cada dÃ­a (ã¥ï¿£ Â³ï¿£)ã¥</div>


</div>

<div id="playlistScreen" class="screen">
  <div class="playlist-container-enhanced">
    <h3>Playlist</h3>
    <p class="frase-romantica">Canciones que me recuerdan lo bonito que es estar juntos â™¡</p>
    
    <iframe
      src="https://open.spotify.com/embed/playlist/1031FzY2heFzULY7yvwaEq?utm_source=generator"
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
      loading="lazy">
    </iframe>
    
    <div class="nav-buttons">
      <button onclick="showScreen('notepadScreen')">â® AtrÃ¡s</button>
      <button onclick="showScreen('buzonScreen')">Continuar</button>
    </div>
  </div>
</div>


<div id="buzonScreen" class="screen">
  <div class="notepad" style="width: 95%; max-width: 640px; text-align: center;">
    <h3 class="fancyFont" style="text-align: center;">ğŸ“® Nuestro BuzÃ³n</h3>
    <p style="margin-bottom: 20px; font-style: italic;">Deja un mensajito lindo o un recuerdo ğŸ’Œ</p>

    <label for="autorMensaje" style="font-weight: bold;">Â¿QuiÃ©n escribe?</label><br>
    <select id="autorMensaje" style="margin: 10px auto 18px auto; padding: 8px 14px; border-radius: 10px; border: 2px solid #ec407a; background-color: #fff0f6; color: #880e4f;">
      <option value="Amira">Amira ğŸ’–</option>
      <option value="Thomas">Thomas ğŸ’™</option>
    </select><br>

    <textarea id="mensajeFuturo" rows="4" style="width: 100%; border-radius: 14px; padding: 12px; font-size: 16px; background: #ffffff; border: 2px dashed #ec407a;" placeholder="Ej: Hoy fuimos a pasear por el cerro..."></textarea>

    <button onclick="guardarMensaje()" style="margin-top: 18px; background-color: #ec407a; color: white; padding: 10px 24px; border: none; border-radius: 14px; font-weight: bold;">ğŸ’Œ Guardar recuerdo</button>

    <div id="mensajesGuardados" style="margin-top: 40px;">
      <h4 class="fancyFont" style="text-align: center; margin-bottom: 18px;">ğŸ“¬ Mensajes guardados</h4>
      <ul id="listaMensajes" style="list-style: none; padding: 0; display: flex; flex-direction: column; gap: 12px;"></ul>
    </div>

    <div class="nav-buttons" style="margin-top: 30px;">
      <button onclick="showScreen('playlistScreen')">â® AtrÃ¡s</button>
      <button onclick="showScreen('tiempoScreen')">Continuar</button>

    </div>
  </div>
</div>

<div id="tiempoScreen" class="screen">
  <div class="tiempo-container">
    <h3> Nuestro tiempo juntos </h3>
    <div id="relationshipTimer" class="tiempo-box">
      â³ Calculando cuÃ¡nto llevamos juntos ...
    </div>
    <p class="frase-romantica">y vamos por mÃ¡s!! (â¸â¸> Ï‰ <â¸â¸)</p>
    <div class="nav-buttons">
      <button onclick="showScreen('buzonScreen')">â® AtrÃ¡s</button>
      <button onclick="showScreen('preguntaDiariaScreen')"> Continuar</button>

    </div>
  </div>
</div>

<div id="preguntaDiariaScreen" class="screen">
  <h2 style="color:#d81b60; margin-bottom: 10px;">ğŸ“ Pregunta del dÃ­a</h2>

  <div class="notepad" style="text-align: center;">
    <p id="dailyQuestion"></p>

    <button onclick="showRandomQuestion()" class="cambio-pregunta-btn">ğŸ”„ Otra pregunta</button>

  <input id="userNameInput" placeholder="Tu nombre" />
  <textarea id="userAnswerInput" placeholder="Tu respuesta..." rows="3"></textarea>

  <button onclick="saveDailyAnswer()" style="margin-top:10px;">Enviar</button>
  <div id="answersArea" style="margin-top:20px;"></div>
  </div>

  <div class="nav-buttons">
    <button onclick="showScreen('buzonScreen')">â® AtrÃ¡s</button>
    <button onclick="showScreen('cuponesScreen'); inicializarCupones()">Continuar</button>
  </div>
</div>

<div id="cuponesScreen" class="screen">
  <h2 style="color: #ec407a;">Cupones</h2>

  <div id="listaCupones" style="margin-top: 20px;"></div>

  <button onclick="mostrarFormularioCupon()" class="temaBtn">â• Crear cupÃ³n</button>

  <div id="formularioCupon" style="display: none; margin-top: 15px;">
    <input id="tituloCupon" placeholder="Â¿QuÃ© vale?" style="padding: 8px; border-radius: 10px; width: 80%;"><br>
    <textarea id="detalleCupon" rows="2" placeholder="Detalles del cupÃ³n..." style="width: 80%; border-radius: 10px; padding: 8px; margin-top: 5px;"></textarea><br>
    <button onclick="guardarCupon()" style="margin-top: 5px;">ğŸ’Œ Guardar</button>
  </div>

  <div class="nav-buttons">
    <button onclick="showScreen('preguntaDiariaScreen')">â® Volver</button>
    <button onclick="showScreen('galeriaScreen')">Continuar</button>

  </div>
  <canvas id="confettiCanvas" style="position: fixed; top: 0; left: 0; pointer-events: none; width: 100%; height: 100%; z-index: 999;"></canvas>
</div>

<div id="galeriaScreen" class="screen">
  <div class="notepad" style="width: 95%; max-width: 720px; text-align: center;">
    <h3 class="fancyFont" style="font-size: 26px;">Nuestra GalerÃ­a de Recuerdos</h3>
    <p style="font-style: italic; margin-bottom: 20px;">AquÃ­ guardamos todos los momentos lindos juntos ( Ë¶Ë†á—œË†Ëµ )</p>

    <label for="archivoGaleria" class="upload-label">
      ğŸ“ Elegir archivos
      <input type="file" id="archivoGaleria" accept="image/*,video/*" multiple hidden>
    </label>

    <button onclick="guardarGaleria()" class="boton-romantico" style="margin-top: 12px;">ğŸ’¾ Guardar </button>

    <div id="contenedorGaleria" class="galeria-kawaii"></div>

    <div class="nav-buttons" style="margin-top: 30px;">
      <button onclick="showScreen('cuponesScreen')">â® AtrÃ¡s</button>
    </div>
  </div>
</div>



<audio id="bgMusic" src="blue.mp3" loop preload="auto"></audio>
<button id="musicPlayer">â–¶ï¸ MÃºsica</button>
<div class="pet-container">
  <img id="petImg" src="mascota1.png" alt="Mascota linda">
  <div class="pet-message" id="petMessage">Hola ğŸ’•</div>
</div>

<script>
  const correctPassword = '1406';
  let input = '';
  const display = document.getElementById('inputDisplay');
  const audio = document.getElementById('bgMusic');
  const musicBtn = document.getElementById('musicPlayer');

  function enterDigit(digit) {
  if (input.length < 4) {
    input += digit;
    display.textContent = input.padEnd(4, 'â€¢');
  }

  if (input.length === 4) {
    setTimeout(() => {
      if (input === correctPassword) {
        showScreen('notepadScreen');
        audio.play().catch(() => {});
        musicBtn.style.display = 'block';

        setTimeout(() => {
          const sorpresa = document.getElementById('sorpresa');
          if (sorpresa) {
            sorpresa.style.display = 'block';
          }
        }, 10000); 

      } else {
        alert('ContraseÃ±a incorrecta à«®(Ë¶â•¥ï¸¿â•¥)áƒ, Intenta de nuevo');
        input = '';
        display.textContent = 'â€¢â€¢â€¢â€¢';
      }
    }, 300);
  }
}

  function showScreen(id) {
    document.querySelectorAll('.screen').forEach(s => {
      s.classList.remove('active');
    });
    const next = document.getElementById(id);
    next.classList.add('active');
  }

 musicBtn.addEventListener('click', () => {
  if (audio.paused) {
    audio.play();
    musicBtn.textContent = 'â¸ï¸ Pausar';
  } else {
    audio.pause();
    musicBtn.textContent = 'â–¶ï¸ MÃºsica';
  }
});



const frases = [
  "Te amo <3", 
  "BÃ¡Ã±ate (â‰§áµ•â‰¦)â™¡", 
  "SonrÃ­e à«® â€¢ ï»Œ - áƒ!!", 
  "Piensa en mÃ­ >á´—< !!", 
  "Toma awita!!", 
  "Te extraÃ±o (â€¢ á´– â€¢ï½¡)", 
  "Fuiste al gym? á•™(  â€¢Ì€ á—œ â€¢Ì  )á•—", 
  "Si lees esto te gusta el pilin (à©­Ëƒá´—Ë‚)à©­", 
  "Te amo mÃ¡s à´¦àµà´¦à´¿ Ë‰ÍˆÌ€ê’³Ë‰ÍˆÌ )âœ§", 
  "AbrÃ­gate porfis (ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡)", 
  "Desayunaste ya? (ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡)", 
  "Hoy es un buen dÃ­a para amarme (à¹‘Ëƒá´—Ë‚)ï»­", 
  "Te mereces una siesta Ê•ã£â€¢á´¥â€¢Ê”ã£", 
  "Eres mi persona favorita ( âáµ•á´—áµ•â )â¤ï¸", 
  "Cierra TikTok, amorcito (â‰–á´—â‰– )", 
  "No procrastines... o sÃ­, pero conmigo (ï½¡â€¢Ì€á´—-)âœ§", 
  "Te comerÃ­a a besitos (ï½¡â™¥â€¿â™¥ï½¡)", 
  "Eres mi motivaciÃ³n pa todo Êšâ™¡âƒ›É(â€¢á´—â€¢â)", 
  "Â¿Ya sonreÃ­ste hoy? Hazlo por mÃ­ ( Â´ âˆ€ )ãƒï½ â™¡", 
  "Solo querÃ­a recordarte que te amo (Â´ï½¥á´—ï½¥  )", 
  "Eres mi lugar favorito (Â´ï½¡â€¢ áµ• â€¢ï½¡)", 
  "Contigo se me olvida el mundo (Â´ï½¡â€¢ áµ• â€¢ï½¡)", 
  "Te amo aunque a veces me de la tontera (à¹‘â€¢ï¹â€¢)", 
  "Eres lo mejor de mis dÃ­as (ï¾‰Â´ãƒ®`)ï¾‰*: ï½¥ï¾Ÿ", 
  "Oye... me gustas, mucho. (>///<)", 
  "No te estreses tanto, mi amorcito <3", 
  "Hiciste caca hoy? jeje, importante (ï½¡â€¢Ì€á´—-)âœ§", 
  "Hola mi arqui, hazme una casa, pero en tu corazÃ³n bb", 
  "Â¿Me das un abracito? (ã¥ï¿£ Â³ï¿£)ã¥", 
  "Si lees esto, debes darme 3 besitos",
  "Eres mi sol en un dÃ­a nublado â˜€ï¸", 
  "Tus abrazos son mi lugar favorito (Â´Îµï½€ )â™¡", 
  "Â¡Eres mi razÃ³n de sonreÃ­r cada dÃ­a! (ï½¡â™¥â€¿â™¥ï½¡)", 
  "A tu lado todo es mÃ¡s bonito (ï½¡â€¢Ì€á´—-)âœ§", 
  "Me haces sentir la persona mÃ¡s afortunada del mundo ( Â´ âˆ€ )ãƒï½ â™¡", 
  "Te adoro mÃ¡s de lo que las palabras pueden expresar (âÂ´â—¡`â)", 
  "A veces me pregunto cÃ³mo fue que tuve tanta suerte de encontrarte ( Â´ â–½ ` )ï¾‰", 
  "Eres el sueÃ±o hecho realidad, te amo ( Ë˜ Â³Ë˜)â™¥", 
  "La mejor parte de mi dÃ­a es verte sonreÃ­r (ï½¡â™¥â€¿â™¥ï½¡)", 
  "Que nadie te diga que no somos el match perfecto (â‰§â—¡â‰¦)", 
  "Siempre estarÃ© aquÃ­, en las buenas y en las malas ( Â´ â–½ ` )", 
  "Mi felicidad tiene tu nombre", 
  "Que nunca falten tus besos (ï½¡â™¥â€¿â™¥ï½¡)", 
  "Si pudiera darte una estrella, te darÃ­a el cielo completo (âœ©Â°ï½¡â‹†)", 
  "Eres lo que me hace seguir adelante (âœ¿â— â€¿â— )", 
  "Cada dÃ­a a tu lado es una nueva aventura (âœ©,)(âœ©,) ",
  "Tus ojos son el reflejo de mi felicidad (ï½¡â€¢Ìâ€¿â€¢Ì€ï½¡)",
  "Lo mejor de mi vida es haberte encontrado ( Â´ â–½ ` )ï¾‰",
  "Tus abrazos me dan fuerzas para todo (Â´Îµï½€ )â™¡",
  "Eres mi pedazo de cielo (âÂ´â—¡`â)",
  "A tu lado no existe nada malo (ï½¡â™¥â€¿â™¥ï½¡)",
  "TÃº y yo, un equipo perfecto (áƒ¦âœªvâœª)áƒ¦",
  "Me haces ser mejor persona, te amo (Â´âˆ€ï½€)â™¡",
  "Te harÃ© feliz todos los dÃ­as de mi vida (ï½¡â™¥â€¿â™¥ï½¡)",
  "Eres mi primer pensamiento al despertar (Â´ï½¡â€¢ áµ• â€¢ï½¡)",
  "Tu amor es mi fuerza y mi paz ( Â´ âˆ€ ` )ãƒï½ â™¡",
  "Juntos somos invencibles (à©­Ëƒá´—Ë‚)à©­",
  "Mi lugar favorito es a tu lado (áƒ¦âœ§â—¡âœ§)",
  "Te prometo que siempre estarÃ© a tu lado (áƒ¦Ë˜âŒ£Ë˜áƒ¦)",
  "Gracias por hacer mi vida mucho mÃ¡s hermosa (â£ï¸)",
  "Contigo el mundo se ve diferente (ï½¡â€¢Ì€á´—-)âœ§",
  "Eres la razÃ³n por la que sonrÃ­o todos los dÃ­as ( Â´ â–½ ` )",
  "No me canso de repetir lo mucho que te amo (ï½¡â™¥â€¿â™¥ï½¡)",
  "Te quiero hoy, maÃ±ana y siempre (Â´Îµï½€ )â™¡",
  "Te amo tanto que las palabras se quedan cortas (áƒ¦âœªvâœª)áƒ¦",
];
  const mensajeMascota = document.getElementById('mensajeMascota');
  const petMessage = document.getElementById('petMessage');

  function changeMessage() {
    const msg = frases[Math.floor(Math.random() * frases.length)];
    petMessage.textContent = msg;
  }

  changeMessage();
  setInterval(changeMessage, 60000);

  const petImg = document.getElementById('petImg');
  const petOptions = ['mascota1.png', 'mascota2.png'];
  let petIndex = 0;

  petImg.addEventListener('click', () => {
    petIndex = (petIndex + 1) % petOptions.length;
    petImg.src = petOptions[petIndex];
    const originalText = petMessage.textContent;
    petMessage.textContent = "Â¡ouch!";
    setTimeout(() => {
    changeMessage();
    }, 2000);

  });
  function volverAlBloqueo() {
  document.getElementById('notepadScreen').classList.remove('active');
  document.getElementById('passwordScreen').classList.add('active');
}

function irAPlaylist() {
  showScreen('playlistScreen');
}


const dailyQuestions = [
  "Â¿QuÃ© te hizo sonreÃ­r hoy?",
  "Â¿QuÃ© es lo que mÃ¡s te gusta del otro?",
  "Describe una cita soÃ±ada con tu pareja.",
  "Â¿QuÃ© canciÃ³n te recuerda a nosotros?",
  "Â¿CuÃ¡l es un sueÃ±o que quieres cumplir con tu pareja?",
  "Â¿QuÃ© detalle del otro te derrite?",
  "Â¿QuÃ© aprendiste de la relaciÃ³n esta semana?",
  "Â¿QuÃ© actividad nueva te gustarÃ­a hacer juntos?",
  "Â¿QuÃ© palabra define tu amor hoy?",
  "Â¿QuÃ© te gustarÃ­a decirle al otro hoy?",
  "Â¿QuÃ© significa para ti el amor?",
  "Â¿CuÃ¡l es tu recuerdo favorito de nuestra relaciÃ³n?",
  "Â¿QuÃ© parte del dÃ­a prefieres pasar con tu pareja?",
  "Â¿QuÃ© harÃ­as para sorprender al otro hoy?",
  "Â¿QuÃ© cualidades de tu pareja te inspiran?",
  "Â¿CÃ³mo sabes que amas al otro?",
  "Â¿QuÃ© hÃ¡bito de tu pareja te gustarÃ­a adoptar?",
  "Â¿QuÃ© significa para ti el compromiso?",
  "Â¿QuÃ© superpoder te gustarÃ­a tener para sorprender a tu pareja?",
  "Â¿CÃ³mo te gustarÃ­a que fuera tu futuro juntos?",
  "Â¿QuÃ© tan importante es la comunicaciÃ³n en una relaciÃ³n?",
  "Â¿QuÃ© es lo que mÃ¡s te gusta hacer con tu pareja?",
  "Â¿QuÃ© te hace sentir mÃ¡s amado por el otro?",
  "Â¿QuÃ© te gustarÃ­a mejorar en tu relaciÃ³n?",
  "Â¿QuÃ© harÃ­as para hacer que tu pareja se sienta especial?",
  "Â¿QuÃ© significa para ti la confianza en una relaciÃ³n?",
  "Â¿QuÃ© es lo que mÃ¡s admiras de tu pareja?",
  "Â¿QuÃ© plan o sueÃ±o compartido te emociona mÃ¡s?",
  "Â¿CÃ³mo puedes apoyar mejor a tu pareja?",
  "Â¿QuÃ© tal vez no le has dicho nunca a tu pareja pero te gustarÃ­a?",
  "Â¿QuÃ© palabras o frases te hacen sentir mÃ¡s cercano a tu pareja?",
  "Â¿CÃ³mo te gustarÃ­a celebrar un aniversario especial?",
  "Â¿CuÃ¡l es tu pelÃ­cula favorita para ver juntos?",
  "Â¿CuÃ¡l es tu comida favorita que ambos disfrutan?",
  "Â¿QuÃ© te gustarÃ­a hacer en un viaje romÃ¡ntico?",
  "Â¿QuÃ© te hace sentir mÃ¡s conectado con tu pareja?",
  "Â¿QuÃ© gesto simple te gustarÃ­a recibir mÃ¡s a menudo de tu pareja?",
  "Â¿CÃ³mo manejas los desacuerdos en la relaciÃ³n?",
  "Â¿QuÃ© es lo que mÃ¡s te asusta de la relaciÃ³n?",
  "Â¿QuÃ© esperas del futuro juntos?",
  "Â¿QuÃ© significa la lealtad para ti?",
  "Â¿CÃ³mo puedes mejorar como pareja cada dÃ­a?",
  "Â¿CuÃ¡l es la cualidad mÃ¡s atractiva de tu pareja?",
  "Â¿QuÃ© harÃ­as si pudieras pasar todo un dÃ­a con tu pareja, sin preocupaciones?",
  "Â¿QuÃ© sueÃ±os tienes para los dos?",
  "Â¿QuÃ© significa para ti la empatÃ­a en una relaciÃ³n?",
  "Â¿CÃ³mo describirÃ­as tu relaciÃ³n en tres palabras?",
  "Â¿QuÃ© haces para mantener viva la chispa en la relaciÃ³n?",
  "Â¿QuÃ© es lo mÃ¡s divertido que han hecho juntos?",
  "Â¿CÃ³mo defines la felicidad en pareja?",
  "Â¿QuÃ© piensas sobre el concepto de alma gemela?",
  "Â¿QuÃ© harÃ­as si tu pareja no estuviera de acuerdo contigo?",
  "Â¿QuÃ© es lo que mÃ¡s valoras de tu pareja?",
  "Â¿QuÃ© diferencia de tu pareja te hace crecer como persona?",
  "Â¿QuÃ© es lo que te hace sentir mÃ¡s tranquilo con tu pareja?",
  "Â¿CÃ³mo te gustarÃ­a que fuera un dÃ­a perfecto juntos?",
  "Â¿QuÃ© pequeÃ±as cosas hacen que tu pareja se sienta especial?",
  "Â¿QuÃ© detalles son los que mÃ¡s aprecias del otro?",
  "Â¿CÃ³mo defines el respeto en la relaciÃ³n?",
  "Â¿QuÃ© serÃ­a un regalo perfecto para tu pareja?",
  "Â¿CÃ³mo te gustarÃ­a expresar tu amor sin palabras?",
  "Â¿QuÃ© actividades disfrutas hacer mÃ¡s con tu pareja?",
  "Â¿QuÃ© es lo que mÃ¡s te sorprende de tu pareja?",
  "Â¿QuÃ© harÃ­as para hacer sentir especial a tu pareja en un dÃ­a comÃºn?",
  "Â¿QuÃ© significa el sacrificio en una relaciÃ³n?",
  "Â¿QuÃ© planes de futuro compartes con tu pareja?",
  "Â¿QuÃ© importancia le das a los momentos Ã­ntimos?",
  "Â¿QuÃ© has aprendido de tu pareja en el Ãºltimo mes?",
  "Â¿QuÃ© hace que te sientas seguro/a en la relaciÃ³n?",
  "Â¿QuÃ© es lo que mÃ¡s te gusta hacer para relajarte junto a tu pareja?",
  "Â¿CÃ³mo manejas los momentos difÃ­ciles en la relaciÃ³n?",
  "Â¿QuÃ© es lo que mÃ¡s valoras del amor que compartes?",
  "Â¿QuÃ© significa para ti tener espacio en una relaciÃ³n?",
  "Â¿CÃ³mo puedes seguir creciendo juntos como pareja?",
  "Â¿QuÃ© significa el apoyo emocional en una relaciÃ³n?",
  "Â¿QuÃ© significa la paciencia para ti en una relaciÃ³n?",
  "Â¿QuÃ© significa para ti compartir responsabilidades?",
  "Â¿QuÃ© esperas aprender de tu pareja este mes?",
  "Â¿CÃ³mo te gustarÃ­a mejorar la convivencia?",
  "Â¿QuÃ© tal vez no has dicho pero te gustarÃ­a compartir?",
  "Â¿CÃ³mo te gustarÃ­a pasar mÃ¡s tiempo con tu pareja?",
  "Â¿QuÃ© detalles de la relaciÃ³n te hacen sentir mÃ¡s conectado/a?",
  "Â¿CÃ³mo sientes que se expresa el amor en tu relaciÃ³n?",
  "Â¿QuÃ© te gustarÃ­a cambiar de ti para mejorar como pareja?",
  "Â¿QuÃ© piensas sobre la importancia de la amistad en una relaciÃ³n?",
  "Â¿CÃ³mo te gustarÃ­a fortalecer la relaciÃ³n a largo plazo?",
  "Â¿QuÃ© te hace sentir mÃ¡s amado/a por tu pareja?",
  "Â¿CÃ³mo pueden ambos sentirse mÃ¡s apreciados mutuamente?",
  "Â¿QuÃ© significa para ti el respeto mutuo?",
  "Â¿QuÃ© significa el perdÃ³n en una relaciÃ³n?",
  "Â¿QuÃ© harÃ­as para solucionar un malentendido con tu pareja?",
  "Â¿CÃ³mo quieres que tu relaciÃ³n sea vista por otros?",
  "Â¿QuÃ© aprendizaje te ha dejado esta relaciÃ³n hasta ahora?",
  "Â¿QuÃ© importancia tiene la diversiÃ³n en pareja?",
  "Â¿QuÃ© harÃ­as para mejorar la forma de comunicarte con tu pareja?",
  "Â¿QuÃ© te gustarÃ­a que tu pareja te dijera hoy?",
  "Â¿QuÃ© harÃ­as si pudieras hacer un solo deseo por tu relaciÃ³n?",
  "Â¿QuÃ© te gustarÃ­a que tu pareja hiciera por ti este mes?",
  "Â¿CÃ³mo te gustarÃ­a sentirte mÃ¡s apoyado/a por tu pareja?",
  "Â¿CÃ³mo defines la complicidad en una relaciÃ³n?",
  "Â¿QuÃ© es lo que mÃ¡s te gusta hacer cuando ambos estÃ¡n relajados?",
  "Â¿QuÃ© significa para ti ser parte del mundo de tu pareja?",
  "Â¿QuÃ© te gustarÃ­a que mejorara en la relaciÃ³n?",
  "Â¿QuÃ© harÃ­as para sorprender a tu pareja en un dÃ­a cualquiera?",
  "Â¿QuÃ© esperas del otro a largo plazo?",
  "Â¿QuÃ© aprendizaje has adquirido en esta relaciÃ³n?",
  "Â¿CÃ³mo te gustarÃ­a que se manejara el estrÃ©s en pareja?",
  "Â¿CÃ³mo quieres que crezca tu relaciÃ³n en los prÃ³ximos meses?",
  "Â¿QuÃ© aspecto de la relaciÃ³n te gustarÃ­a explorar mÃ¡s?",
  "Â¿QuÃ© es lo que mÃ¡s valoras del amor que compartes?",
  "Â¿QuÃ© harÃ­as para mantener una relaciÃ³n divertida?",
  "Â¿QuÃ© te hace sentir que tu relaciÃ³n es Ãºnica?",
  "Â¿QuÃ© te gustarÃ­a experimentar con tu pareja este aÃ±o?",
  "Â¿QuÃ© significa para ti ser un buen oyente en la relaciÃ³n?",
  "Â¿QuÃ© harÃ­as para que tu relaciÃ³n sea mÃ¡s profunda?",
  "Â¿CÃ³mo te gustarÃ­a sentirte mÃ¡s cercano/a a tu pareja?",
  "Â¿QuÃ© harÃ­as para fortalecer la comunicaciÃ³n en la relaciÃ³n?",
  "Â¿QuÃ© es lo que mÃ¡s te gusta de tu pareja cuando estÃ¡ relajado/a?",
  "Â¿QuÃ© harÃ­as para hacer sentir a tu pareja mÃ¡s apreciada?",
  "Â¿QuÃ© te gustarÃ­a mejorar en el dÃ­a a dÃ­a de la relaciÃ³n?",
  "Â¿CÃ³mo manejas las diferencias de opiniÃ³n en la relaciÃ³n?",
  "Â¿QuÃ© significa para ti la estabilidad emocional en la relaciÃ³n?",
  "Â¿QuÃ© detalles del dÃ­a a dÃ­a te hacen sentir mÃ¡s conectado/a?",
  "Â¿QuÃ© harÃ­as para hacer que cada dÃ­a sea especial con tu pareja?",
  "Â¿QuÃ© significa para ti el esfuerzo mutuo?",
  "Â¿QuÃ© crees que hace que tu relaciÃ³n sea especial?",
  "Â¿QuÃ© harÃ­as para crear mÃ¡s recuerdos felices juntos?",
  "Â¿QuÃ© es lo que mÃ¡s te hace reÃ­r con tu pareja?",
  "Â¿QuÃ© harÃ­as para aumentar la confianza en tu relaciÃ³n?",
  "Â¿CÃ³mo te gustarÃ­a sorprender a tu pareja el prÃ³ximo mes?",
  "Â¿QuÃ© es lo que mÃ¡s te hace sentir amado/a por tu pareja?",
  "Â¿QuÃ© harÃ­as para crear una rutina especial juntos?",
  "Â¿QuÃ© significa para ti la independencia en una relaciÃ³n?",
  "Â¿CÃ³mo describirÃ­as la relaciÃ³n en este momento de tu vida?",
  "Â¿QuÃ© harÃ­as para sorprender a tu pareja con un detalle Ãºnico?",
  "Â¿QuÃ© significa para ti compartir momentos simples juntos?",
  "Â¿QuÃ© aprendizaje te ha dejado la relaciÃ³n hasta ahora?",
  "Â¿QuÃ© te gustarÃ­a que mejorara la relaciÃ³n?",
  "Â¿QuÃ© harÃ­as para que tu pareja se sintiera mÃ¡s querida?",
  "Â¿CÃ³mo te gustarÃ­a que se gestionara el tiempo en pareja?",
  "Â¿QuÃ© significa para ti el amor incondicional?",
  "Â¿QuÃ© harÃ­as para mejorar la diversiÃ³n en la relaciÃ³n?",
  "Â¿QuÃ© te gustarÃ­a aprender mÃ¡s sobre tu pareja?",
  "Â¿CÃ³mo te gustarÃ­a que tu relaciÃ³n creciera en los prÃ³ximos meses?"
];

function loadNewQuestion() {
  const random = Math.floor(Math.random() * preguntas.length);
  document.getElementById("dailyQuestion").textContent = preguntas[random];
}

  function showRandomQuestion() {
  const random = Math.floor(Math.random() * dailyQuestions.length);
  const question = dailyQuestions[random];

  document.getElementById('dailyQuestion').innerHTML = `
    ${question}<br><span style="font-size: 14px; color: #aa5a8d; display: block; margin-top: 5px;">ğŸŒ¸ Esta es una pregunta aleatoria ğŸŒ¸</span>
  `;

  const todayKey = getTodayKey();
  const stored = JSON.parse(localStorage.getItem('answers-' + todayKey)) || [];
  displayAnswers(question, stored);
}


function getTodayKey() {
  const today = new Date();
  return today.toISOString().split('T')[0]; // YYYY-MM-DD
}

function loadDailyQuestion() {
  const dayIndex = new Date().getDate() % dailyQuestions.length;
  const question = dailyQuestions[dayIndex];
  
  document.getElementById('dailyQuestion').innerHTML = `
  ${question}<br><span style="font-size: 14px; color: #aa5a8d; display: block; margin-top: 5px;">ğŸŒ¸ Recuerda que cada dÃ­a serÃ¡ una pregunta distinta ğŸŒ¸</span>
  `;


  const todayKey = getTodayKey();
  const stored = JSON.parse(localStorage.getItem('answers-' + todayKey)) || [];
  displayAnswers(question, stored);
}


function saveDailyAnswer() {
  const name = document.getElementById('userNameInput').value.trim();
  const text = document.getElementById('userAnswerInput').value.trim();
  if (!name || !text) return alert('Por favor, escribe tu nombre y tu respuesta...');

  const todayKey = getTodayKey();
  const stored = JSON.parse(localStorage.getItem('answers-' + todayKey)) || [];

  if (stored.length >= 2 && !stored.some(ans => ans.name === name)) {
    return alert('Ya se respondieron las 2 respuestas hoy.');
  }

  const updated = stored.filter(ans => ans.name !== name);
  updated.push({ name, text });
  localStorage.setItem('answers-' + todayKey, JSON.stringify(updated));
  displayAnswers(updated);
  document.getElementById('userAnswerInput').value = "";
}

function displayAnswers(question, answers) {
  const area = document.getElementById('answersArea');
  area.innerHTML = ''; // Limpiar antes de mostrar

  const questionElement = document.createElement('div');
  questionElement.className = 'questionTitle';
  questionElement.innerHTML = `ğŸ’­ <strong>Pregunta del dÃ­a:</strong> ${question}`;
  area.appendChild(questionElement);

  answers.forEach(ans => {
    const wrapper = document.createElement('div');
    wrapper.className = 'answerBubble';
    if (ans.name.toLowerCase().includes('amira')) {
      wrapper.classList.add('amira');
    } else if (ans.name.toLowerCase().includes('thomas')) {
      wrapper.classList.add('thomas');
    }


    wrapper.innerHTML = `
      <p><strong>Respuesta:</strong> ${ans.text}</p>
      <p style="margin-top:5px;"><strong> Respondido por:</strong> ${ans.name}</p>
    `;

    area.appendChild(wrapper);
  });
}

loadDailyQuestion();


</script>

<script>
  const heartContainer = document.getElementById("hearts-container");
    for (let i = 0; i < 25; i++) {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.animationDelay = Math.random() * 8 + "s";
    heart.innerHTML = "â™¡";
    heartContainer.appendChild(heart);
    }

</script>
  <script>
  const sakuraContainer = document.createElement('div');
  sakuraContainer.style.position = 'fixed';
  sakuraContainer.style.top = '0';
  sakuraContainer.style.left = '0';
  sakuraContainer.style.width = '100%';
  sakuraContainer.style.height = '100%';
  sakuraContainer.style.pointerEvents = 'none';
  sakuraContainer.style.zIndex = '0';
  document.body.appendChild(sakuraContainer);

  function crearPetalo() {
    const petalo = document.createElement('div');
    petalo.innerHTML = 'ğŸŒ¸';
    petalo.style.position = 'absolute';
    petalo.style.top = '-30px';
    petalo.style.left = `${Math.random() * 100}vw`;
    petalo.style.fontSize = `${Math.random() * 16 + 20}px`;
    petalo.style.opacity = Math.random();
    petalo.style.animation = `caida ${Math.random() * 5 + 5}s linear forwards`;
    sakuraContainer.appendChild(petalo);

    setTimeout(() => {
      sakuraContainer.removeChild(petalo);
    }, 10000);
  }

  setInterval(crearPetalo, 500);

  const style = document.createElement('style');
  style.innerHTML = `
    @keyframes caida {
      0% { transform: translateY(0) rotate(0deg); }
      100% { transform: translateY(100vh) rotate(360deg); }
    }
  `;
  document.head.appendChild(style);
</script>
<script>
  function actualizarTiempoJuntos() {
    const inicio = new Date("2025-06-14T00:00:00");
    const ahora = new Date();
    let diferencia = ahora - inicio;

    const dias = Math.floor(diferencia / (1000 * 60 * 60 * 24));
    const horas = Math.floor((diferencia / (1000 * 60 * 60)) % 24);
    const minutos = Math.floor((diferencia / (1000 * 60)) % 60);
    const segundos = Math.floor((diferencia / 1000) % 60);

    const mensaje = `Llevamos juntos ${dias} dÃ­as, ${horas} h, ${minutos} min y ${segundos} s desde el 14/06/2025 ( ï½°Ì€Îµï½°Ì )`;
    document.getElementById("relationshipTimer").innerText = mensaje;
  }

  setInterval(actualizarTiempoJuntos, 1000);
</script>

<script>
    function guardarMensaje() {
  const mensaje = document.getElementById("mensajeFuturo").value.trim();
  const autor = document.getElementById("autorMensaje").value;

  if (!mensaje) return alert("Escribe un mensaje para guardar ğŸ’Œ");

  let mensajes = JSON.parse(localStorage.getItem("buzonRecuerdos")) || [];

  mensajes.push({ autor, mensaje });
  localStorage.setItem("buzonRecuerdos", JSON.stringify(mensajes));

  document.getElementById("mensajeFuturo").value = "";
  mostrarMensajes();
}


  function mostrarMensajes() {
  let mensajes = JSON.parse(localStorage.getItem("buzonRecuerdos")) || [];

  const lista = document.getElementById("listaMensajes");
  lista.innerHTML = "";

  mensajes.forEach(({ autor, mensaje }) => {
    const li = document.createElement("li");
    const div = document.createElement("div");
    div.className = "secret-message";
    div.innerHTML = `<strong style="color:${autor === 'Amira' ? '#c2185b' : '#1976d2'}">ğŸ’Œ ${autor}:</strong><br>${mensaje}`;
    div.onclick = () => div.classList.toggle("revealed");
    li.appendChild(div);
    lista.appendChild(li);
  });
}


  document.addEventListener("DOMContentLoaded", mostrarMensajes);

  let cupones = [];

function inicializarCupones() {
  const guardados = localStorage.getItem("cuponesAmor");
  if (guardados) {
    cupones = JSON.parse(guardados);
  } else {
    cupones = [
    { titulo: "ğŸ¿ Noche de pelÃ­cula + abrazos", detalle: "Â¡Thomas, elige una pelÃ­cula y nos abrazamos mientras la vemos! (Que no sea tan mala porfavor)", usado: false },
    { titulo: "ğŸ’† Masaje express", detalle: "Thomas, te hago un masaje en espalda, hombros o donde tÃº quieras ", usado: false },
    { titulo: "ğŸª Cocinar algo juntos", detalle: "Â¡A cocinar galletas, postres o lo que se nos ocurra juntos! ğŸ’–", usado: false },
    { titulo: "ğŸ“ Picnic improvisado", detalle: "Vamos a preparar algo rico y tener un picnic improvisado, donde sea ", usado: false },
    { titulo: "ğŸ›‹ï¸ Noche de maratÃ³n de series", detalle: "Elige una serie disfrutamos de una noche maratÃ³nica", usado: false },
    { titulo: "ğŸ’†â€â™€ï¸ Noche de skincare coreano", detalle: "Preparamos una rutina de skincare al estilo coreano. Mascarillas, hidrataciÃ³n y relajaciÃ³n mientras nos damos nanai", usado: false },  
    { titulo: "ğŸ—£ï¸ DÃ­a sin groserÃ­as", detalle: "Hoy es un dÃ­a sin groserÃ­as, Â¡si dices una, el otro tiene derecho a un reto! ", usado: false },
     { titulo: "ğŸœ Ramen casero", detalle: "Nos retamos a cocinar ramen casero desde cero. Â¿QuiÃ©n serÃ¡ el chef estrella del ramen? ğŸ² (obvio yo :p)", usado: false },
     { titulo: "ğŸ± Cena en restaurante coreano", detalle: "Una cita en un restaurante coreano (en curico si hay)", usado: false },
    { titulo: "ğŸŒ† Explorar la ciudad sin rumbo", detalle: "Vamos a dar un paseo sin planear a dÃ³nde vamos. Tomamos giros al azar y descubrimos nuevos rincones de la ciudad juntos ", usado: false },
    ];
    localStorage.setItem("cuponesAmor", JSON.stringify(cupones));
  }

  mostrarCupones();
}

function mostrarCupones() {
  const contenedor = document.getElementById("listaCupones");
  contenedor.innerHTML = "";

  if (cupones.length === 0) {
    contenedor.innerHTML = "<p style='color:#999;'>AÃºn no hay cupones creados ğŸ¥º</p>";
    return;
  }

  cupones.forEach((cupon, index) => {
    const cup = document.createElement("div");
    cup.classList.add("cuponAnimado");

    cup.style.border = "2px dashed #f48fb1";
    cup.style.borderRadius = "12px";
    cup.style.padding = "10px";
    cup.style.marginBottom = "10px";
    cup.style.background = cupon.usado ? "#fce4ec" : "#fff0f6";

    cup.innerHTML = `
      <p><strong>${cupon.titulo}</strong></p>
      <p style="font-size: 14px;">${cupon.detalle}</p>
      <button onclick="marcarComoUsado(${index})" style="margin-top:5px;">
        âœ… ${cupon.usado ? "Usado ğŸ’”" : "Marcar como usado"}
      </button>
    `;
    contenedor.appendChild(cup);
  });
}

function mostrarFormularioCupon() {
  document.getElementById("formularioCupon").style.display = "block";
}

function guardarCupon() {
  const titulo = document.getElementById("tituloCupon").value.trim();
  const detalle = document.getElementById("detalleCupon").value.trim();
  if (!titulo) return alert("Â¡Escribe un tÃ­tulo para el cupÃ³n!");

  cupones.push({ titulo, detalle, usado: false });
  localStorage.setItem("cuponesAmor", JSON.stringify(cupones));

  document.getElementById("tituloCupon").value = "";
  document.getElementById("detalleCupon").value = "";
  document.getElementById("formularioCupon").style.display = "none";
  mostrarCupones();
}

function marcarComoUsado(index) {
  cupones[index].usado = !cupones[index].usado;
  localStorage.setItem("cuponesAmor", JSON.stringify(cupones));
  mostrarCupones();
  lanzarConfeti(); 
}

function lanzarConfeti() {
  const canvas = document.getElementById('confettiCanvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  const confettis = Array.from({ length: 150 }, () => ({
    x: Math.random() * canvas.width,
    y: Math.random() * -canvas.height,
    r: Math.random() * 6 + 2,
    d: Math.random() * 15 + 5,
    color: `hsl(${Math.random() * 360}, 100%, 75%)`,
    tilt: Math.random() * 10 - 5,
    tiltAngleIncrement: Math.random() * 0.07 + 0.05,
    tiltAngle: 0
  }));

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    confettis.forEach(c => {
      ctx.beginPath();
      ctx.lineWidth = c.r;
      ctx.strokeStyle = c.color;
      ctx.moveTo(c.x + c.tilt + c.r / 2, c.y);
      ctx.lineTo(c.x + c.tilt, c.y + c.tilt + c.d / 2);
      ctx.stroke();
    });
    update();
  }

  function update() {
    confettis.forEach(c => {
      c.tiltAngle += c.tiltAngleIncrement;
      c.y += Math.cos(c.d / 2);
      c.x += Math.sin(c.tiltAngle);
      c.tilt = Math.sin(c.tiltAngle) * 15;

      if (c.y > canvas.height) {
        c.y = -10;
        c.x = Math.random() * canvas.width;
      }
    });
  }

  let interval = setInterval(draw, 16);
  setTimeout(() => clearInterval(interval), 3000); 
}

function guardarGaleria() {
  const input = document.getElementById("archivoGaleria");
  const archivos = Array.from(input.files);
  if (!archivos.length) {
    alert("Selecciona al menos un archivo ğŸ’–");
    return;
  }

  let galeriaGuardada = JSON.parse(localStorage.getItem("galeriaAmor")) || [];
  let nuevosElementos = [];

  let cargados = 0;

  archivos.forEach(archivo => {
    const reader = new FileReader();
    reader.onload = e => {
      const tipo = archivo.type.startsWith('image') ? 'img' : 'video';
      nuevosElementos.push({ tipo: tipo, src: e.target.result });

      cargados++;
      if (cargados === archivos.length) {
        galeriaGuardada = galeriaGuardada.concat(nuevosElementos);
        localStorage.setItem("galeriaAmor", JSON.stringify(galeriaGuardada));
        mostrarGaleria();
        input.value = "";
      }
    };
    reader.readAsDataURL(archivo);
  });
}

function mostrarGaleria() {
  const contenedor = document.getElementById("contenedorGaleria");
  if (!contenedor) return;

  const galeria = JSON.parse(localStorage.getItem("galeriaAmor")) || [];
  contenedor.innerHTML = "";

  galeria.forEach(item => {
    const elemento = document.createElement(item.tipo);
    elemento.src = item.src;
    elemento.classList.add("galeria-item");
    if (item.tipo === "video") {
      elemento.controls = true;
      elemento.muted = true;
    }
    contenedor.appendChild(elemento);
  });
}

document.addEventListener("DOMContentLoaded", mostrarGaleria);





</script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyCBTK4lvPlv9CzjwIBsmonAYNyKOX8jMYc",
    authDomain: "amiraythomas.firebaseapp.com",
    projectId: "amiraythomas",
    storageBucket: "amiraythomas.appspot.com",
    messagingSenderId: "1091768566011",
    appId: "1:1091768566011:web:a18fb7e0df4852591ff05e",
    measurementId: "G-C5MDLWG0MB"
  };

  // Inicializar Firebase
  const app = firebase.initializeApp(firebaseConfig);
  const storage = firebase.storage();
  const db = firebase.firestore();

  const galeriaDiv = document.getElementById('galeria');
  const fileInput = document.getElementById('fileInput');

  fileInput.addEventListener('change', async (e) => {
    const file = e.target.files[0];
    const storageRef = storage.ref(`galeria/${Date.now()}_${file.name}`);
    await storageRef.put(file);
    const url = await storageRef.getDownloadURL();

    // Guardar URL en Firestore
    await db.collection('galeria').add({ url });

    mostrarGaleria();
  });

  async function mostrarGaleria() {
    galeriaDiv.innerHTML = '';
    const snapshot = await db.collection('galeria').get();
    snapshot.forEach((doc) => {
      const data = doc.data();
      const ext = data.url.split('.').pop();
      if (['mp4', 'webm'].includes(ext)) {
        galeriaDiv.innerHTML += `<video src="${data.url}" controls class="item"></video>`;
      } else {
        galeriaDiv.innerHTML += `<img src="${data.url}" class="item" />`;
      }
    });
  }

  mostrarGaleria();
</script>


<!-- ğŸŒ¸ GalerÃ­a compartida Firebase -->
<section class="pantalla pantalla-galeria" id="pantallaGaleria" style="display: none;">
  <div class="notepad" style="width: 95%; max-width: 720px; text-align: center;">
    <h3 style="text-align: center;">ğŸ“¸ Nuestra GalerÃ­a</h3>
    <p style="margin-bottom: 20px; font-style: italic;">Subamos recuerdos juntos ğŸ’–</p>
    <input type="file" id="fileInput" accept="image/*,video/*" style="margin-bottom: 16px;"/><br>
    <div id="galeria" style="display: flex; flex-wrap: wrap; gap: 12px; justify-content: center;"></div>
  </div>
</section>


<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
  import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-storage.js";
  import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCBTK4lvPlv9CzjwIBsmonAYNyKOX8jMYc",
    authDomain: "amiraythomas.firebaseapp.com",
    projectId: "amiraythomas",
    storageBucket: "amiraythomas.appspot.com",
    messagingSenderId: "1091768566011",
    appId: "1:1091768566011:web:a18fb7e0df4852591ff05e",
    measurementId: "G-C5MDLWG0MB"
  };

  const app = initializeApp(firebaseConfig);
  const storage = getStorage(app);
  const db = getFirestore(app);

  const fileInput = document.getElementById("fileInput");
  const galeria = document.getElementById("galeria");

  fileInput?.addEventListener("change", async (e) => {
    const file = e.target.files[0];
    const storageRef = ref(storage, `galeria/${Date.now()}_${file.name}`);
    await uploadBytes(storageRef, file);
    const url = await getDownloadURL(storageRef);
    await addDoc(collection(db, "galeria"), { url });
    mostrarGaleria();
  });

  async function mostrarGaleria() {
    galeria.innerHTML = "";
    const snapshot = await getDocs(collection(db, "galeria"));
    snapshot.forEach(doc => {
      const { url } = doc.data();
      const ext = url.split('.').pop().toLowerCase();
      if (["mp4", "webm"].includes(ext)) {
        galeria.innerHTML += `<video src="${url}" controls style="max-width: 150px; border-radius: 10px;"></video>`;
      } else {
        galeria.innerHTML += `<img src="${url}" style="max-width: 150px; border-radius: 10px;" />`;
      }
    });
  }

  mostrarGaleria();
</script>


<!-- ğŸ’Œ BuzÃ³n de Mensajes -->
<section class="pantalla" id="pantallaBuzon" style="display: none;">
  <div class="notepad" style="width: 95%; max-width: 640px; text-align: center;">
    <h3 style="text-align: center;">ğŸ“® Nuestro BuzÃ³n</h3>   
    <p style="margin-bottom: 20px; font-style: italic;">Deja un mensajito lindo o un recuerdo ğŸ’Œ</p>

    <label for="autorMensaje" style="font-weight: bold;">Â¿QuiÃ©n escribe?</label><br>
    <select id="autorMensaje" style="margin: 10px auto 18px auto; padding: 8px 14px; border-radius: 10px; border: 2px solid #ec407a; background-color: #fff0f6; color: #880e4f;">
      <option value="Amira">Amira ğŸ’–</option>
      <option value="Thomas">Thomas ğŸ’™</option>
    </select><br>

    <textarea id="mensajeFuturo" rows="4" placeholder="Escribe algo bonito..." style="width: 100%; border-radius: 14px; padding: 12px; border: 2px solid #ec407a; background-color: #fffdfd;"></textarea><br>
    <button onclick="enviarMensaje()" style="margin-top: 10px; padding: 8px 16px; border-radius: 12px; background-color: #ec407a; color: white; border: none;">Enviar âœ¨</button>
    
    <div id="listaMensajes" style="margin-top: 24px; text-align: left;"></div>
  </div>
</section>


<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, serverTimestamp, query, orderBy } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCBTK4lvPlv9CzjwIBsmonAYNyKOX8jMYc",
    authDomain: "amiraythomas.firebaseapp.com",
    projectId: "amiraythomas",
    storageBucket: "amiraythomas.appspot.com",
    messagingSenderId: "1091768566011",
    appId: "1:1091768566011:web:a18fb7e0df4852591ff05e",
    measurementId: "G-C5MDLWG0MB"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const autorMensaje = document.getElementById("autorMensaje");
  const mensajeFuturo = document.getElementById("mensajeFuturo");
  const listaMensajes = document.getElementById("listaMensajes");

  window.enviarMensaje = async () => {
    const autor = autorMensaje.value;
    const texto = mensajeFuturo.value.trim();
    if (texto === "") return;
    await addDoc(collection(db, "buzon"), {
      autor, texto, fecha: serverTimestamp()
    });
    mensajeFuturo.value = "";
    cargarMensajes();
  };

  async function cargarMensajes() {
    listaMensajes.innerHTML = "";
    const q = query(collection(db, "buzon"), orderBy("fecha", "desc"));
    const snapshot = await getDocs(q);
    snapshot.forEach(doc => {
      const { autor, texto, fecha } = doc.data();
      const date = fecha?.toDate().toLocaleString("es-CL") ?? "â³";
      const msg = document.createElement("div");
      msg.innerHTML = `<p><strong>${autor}:</strong> ${texto}<br><small style="color:gray;">${date}</small></p>`;
      msg.style.background = "#ffeaf3";
      msg.style.padding = "12px";
      msg.style.borderRadius = "12px";
      msg.style.marginBottom = "10px";
      listaMensajes.appendChild(msg);
    });
  }

  cargarMensajes();
</script>


<!-- ğŸ Pantalla de Cupones -->
<section class="pantalla" id="pantallaCupones" style="display: none;">
  <div class="notepad" style="width: 95%; max-width: 680px; text-align: center;">
    <h3 style="text-align: center;">ğŸ Nuestros Cupones</h3>
    <p style="margin-bottom: 20px; font-style: italic;">Canjea o crea sorpresas lindas âœ¨</p>

    <input type="text" id="nuevoTitulo" placeholder="TÃ­tulo del cupÃ³n (ej. ğŸ¿ Noche de pelÃ­cula)" style="width: 90%; padding: 8px; border-radius: 10px; margin-bottom: 8px;"><br>
    <textarea id="nuevoDetalle" placeholder="Detalle (ej. Vemos una peli y comemos snacks ğŸ’–)" style="width: 90%; padding: 8px; border-radius: 10px;"></textarea><br>
    <select id="creadoPor" style="margin-top: 6px; padding: 6px 12px; border-radius: 10px;">
      <option value="Amira">Amira ğŸ’–</option>
      <option value="Thomas">Thomas ğŸ’™</option>
    </select><br>
    <button onclick="crearCupon()" style="margin-top: 10px; padding: 8px 16px; border-radius: 12px; background-color: #ec407a; color: white; border: none;">Crear CupÃ³n ğŸ’Œ</button>

    <div id="listaCupones" style="margin-top: 24px;"></div>
  </div>
</section>


<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, updateDoc, doc, serverTimestamp, query, orderBy } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCBTK4lvPlv9CzjwIBsmonAYNyKOX8jMYc",
    authDomain: "amiraythomas.firebaseapp.com",
    projectId: "amiraythomas",
    storageBucket: "amiraythomas.appspot.com",
    messagingSenderId: "1091768566011",
    appId: "1:1091768566011:web:a18fb7e0df4852591ff05e",
    measurementId: "G-C5MDLWG0MB"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const nuevoTitulo = document.getElementById("nuevoTitulo");
  const nuevoDetalle = document.getElementById("nuevoDetalle");
  const creadoPor = document.getElementById("creadoPor");
  const listaCupones = document.getElementById("listaCupones");

  window.crearCupon = async () => {
    const titulo = nuevoTitulo.value.trim();
    const detalle = nuevoDetalle.value.trim();
    const autor = creadoPor.value;
    if (titulo === "" || detalle === "") return;

    await addDoc(collection(db, "cupones"), {
      titulo, detalle, creadoPor: autor, usado: false, canjeadoPor: "", fechaCanjeo: null, creado: serverTimestamp()
    });

    nuevoTitulo.value = "";
    nuevoDetalle.value = "";
    cargarCupones();
  };

  window.canjearCupon = async (id, porQuien) => {
    const docRef = doc(db, "cupones", id);
    await updateDoc(docRef, {
      usado: true,
      canjeadoPor: porQuien,
      fechaCanjeo: serverTimestamp()
    });
    cargarCupones();
  };

  async function cargarCupones() {
    listaCupones.innerHTML = "";
    const q = query(collection(db, "cupones"), orderBy("creado", "desc"));
    const snapshot = await getDocs(q);
    snapshot.forEach(docSnap => {
      const cupon = docSnap.data();
      const id = docSnap.id;
      const usadoTxt = cupon.usado ? `âœ… Canjeado por ${cupon.canjeadoPor} (${cupon.fechaCanjeo?.toDate().toLocaleString("es-CL") ?? ""})` : "";
      const btn = cupon.usado ? "" : `<button onclick="canjearCupon('${id}', prompt('Â¿QuiÃ©n lo canjea? Amira o Thomas'))" style="margin-top: 6px; padding: 6px 12px; border-radius: 10px; background-color: #43a047; color: white;">Canjear</button>`;
      const el = document.createElement("div");
      el.innerHTML = `<p><strong>${cupon.titulo}</strong><br>${cupon.detalle}<br><small>Creado por: ${cupon.creadoPor}</small><br><small style="color: gray;">${usadoTxt}</small></p>${btn}`;
      el.style.background = "#e0f7fa";
      el.style.padding = "12px";
      el.style.borderRadius = "12px";
      el.style.marginBottom = "12px";
      listaCupones.appendChild(el);
    });
  }

  cargarCupones();
</script>

</body>
</html>
